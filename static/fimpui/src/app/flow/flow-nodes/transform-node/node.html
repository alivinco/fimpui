<div #nodebody >
      <div>
        <span *ngIf="node.Config.TargetVariableName==''"> Input variable </span>
        {{node.Config.TargetVariableName}} = <span *ngIf="node.Config.LVariableName==''"> Input variable </span>  {{ node.Config.LVariableName }}
        <span *ngIf="node.Config.TransformType=='calc'" ><b>{{ node.Config.Operation }}</b></span>
        <span *ngIf="node.Config.TransformType=='map'" ><b> is mapped</b></span>
        <span *ngIf="node.Config.RType=='var'"> {{node.Config.RVariableName }} </span>
        <span *ngIf="node.Config.RType=='const'"> {{node.Config.RValue.Value }} </span>

      </div>
      <br>
      <div>
        <mat-form-field style="width: 200px">
          <mat-select    style="width: 200px" placeholder="Transformation type"[(ngModel)]="node.Config.TransformType" >
            <mat-option value = "calc">Calculate</mat-option>
            <mat-option value = "map">Map</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div style="margin-top: 10px;">
        <div>
          <mat-form-field style="width: 200px">
            <mat-select *ngIf="!node.Config.IsTargetVariableGlobal" style="width: 200px"   placeholder="Result" [(ngModel)]="node.Config.TargetVariableName" >
              <mat-option value = "">Default Input</mat-option>
              <mat-option *ngFor="let vari of localVars" [value]="vari" >{{vari}}</mat-option>
            </mat-select>
            <mat-select *ngIf="node.Config.IsTargetVariableGlobal" style="width: 200px"  placeholder="Result" [(ngModel)]="node.Config.TargetVariableName" >
              <mat-option *ngFor="let vari of globalVars" value="{{vari}}">{{vari}}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-checkbox style="margin-bottom: 5px; margin-right: 10px;" [(ngModel)]="node.Config.IsTargetVariableGlobal" > Is global </mat-checkbox>
        </div>
          <div>
            <mat-form-field style="width: 200px">
              <mat-select *ngIf="!node.Config.IsLVariableGlobal" style="width: 200px"   placeholder="Left variable" [(ngModel)]="node.Config.LVariableName" >
                  <mat-option value = "">Default Input</mat-option>
                  <mat-option *ngFor="let vari of localVars" [value]="vari" >{{vari}}</mat-option>
              </mat-select>
              <mat-select *ngIf="node.Config.IsLVariableGlobal" style="width: 200px"  placeholder="Left variable" [(ngModel)]="node.Config.LVariableName" >
                  <mat-option *ngFor="let vari of globalVars" value="{{vari}}">{{vari}}</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-checkbox style="margin-bottom: 5px; margin-right: 10px;" [(ngModel)]="node.Config.IsLVariableGlobal" > Is global </mat-checkbox>
          </div>
          <div *ngIf="node.Config.TransformType=='calc'">
            <mat-form-field style="width: 80px">
              <mat-select    style="width: 80px" placeholder="Operation"[(ngModel)]="node.Config.Operation" >
                  <mat-option value = "flip">flip</mat-option>
                  <mat-option value = "add">add</mat-option>
                  <mat-option value = "subtract">subtract</mat-option>
                  <mat-option value = "multiply">multiply</mat-option>
                  <mat-option value = "divide">divide</mat-option>
                  <mat-option value = "to_bool">to binary</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div *ngIf="node.Config.TransformType=='calc'">
            <mat-form-field style="width: 200px">
              <mat-select    style="width: 200px" placeholder="Right value type"[(ngModel)]="node.Config.RType" >
                <mat-option value = "var">Variable</mat-option>
                <mat-option value = "const">Constant</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div *ngIf="node.Config.TransformType=='calc' && node.Config.RType=='var' ">
            <mat-form-field style="width: 200px">
                  <mat-select *ngIf="!node.Config.IsRVariableGlobal" style="width: 200px"   placeholder="Right value" [(ngModel)]="node.Config.RVariableName" >
                    <mat-option value = "">Default Input</mat-option>
                    <mat-option *ngFor="let vari of localVars" [value]="vari" >{{vari}}</mat-option>
                  </mat-select>
                  <mat-select *ngIf="node.Config.IsRVariableGlobal" style="width: 200px"  placeholder="Right value" [(ngModel)]="node.Config.RVariableName" >
                    <mat-option *ngFor="let vari of globalVars" value="{{vari}}">{{vari}}</mat-option>
                  </mat-select>
            </mat-form-field>
            <mat-checkbox style="margin-bottom: 5px; margin-right: 10px;" [(ngModel)]="node.Config.IsRVariableGlobal" > Is global </mat-checkbox>
          </div>
      </div>
      <div *ngIf="node.Config.RType=='const' &&  node.Config.TransformType=='calc' ">

         <span [ngSwitch]="node.Config.RValue.ValueType">
              <span *ngSwitchCase="'string'">
                  <mat-form-field class="node-transition-field">
                      <input matInput [(ngModel)]="node.Config.RValue.Value" placeholder=" Right value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'int'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="node.Config.RValue.Value" placeholder="value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'float'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="node.Config.RValue.Value" placeholder="value" >
                  </mat-form-field>
              </span>

              <span *ngSwitchCase="'bool'">
                <mat-radio-group class="example-radio-group" placeholder="value" [(ngModel)]="node.Config.RValue.Value">
                  <mat-radio-button class="example-radio-button" [value] = "true">
                    true (On)
                  </mat-radio-button>
                  <mat-radio-button class="example-radio-button" [value] = "false">
                    false (Off)
                  </mat-radio-button>
                </mat-radio-group>
              </span>
         </span>

          <mat-form-field style="width: 110px">
            <mat-select    style="width: 110px"  placeholder="Value type" [(ngModel)]="node.Config.RValue.ValueType" >
              <mat-option value = "int">int number</mat-option>
              <mat-option value = "float">float number</mat-option>
              <mat-option value = "string">string</mat-option>
              <mat-option value = "bool">bool</mat-option>
            </mat-select>
          </mat-form-field>

        </div>
      <div *ngIf="node.Config.TransformType=='map'">
    <div *ngFor="let vmap of node.Config.ValueMapping;let index2 = index;trackBy:trackByIndex;">
      <span [ngSwitch]="vmap.LValue.ValueType">
              <span *ngSwitchCase="'string'">
                  <mat-form-field class="node-transition-field">
                      <input matInput [(ngModel)]="vmap.LValue.Value" placeholder="From value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'int'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="vmap.LValue.Value" placeholder="From value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'float'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="vmap.LValue.Value" placeholder="From value" >
                  </mat-form-field>
              </span>

              <span *ngSwitchCase="'bool'">
                <mat-radio-group class="example-radio-group" placeholder="value" [(ngModel)]="vmap.LValue.Value">
                  <mat-radio-button class="example-radio-button" [value] = "true">
                    true (On)
                  </mat-radio-button>
                  <mat-radio-button class="example-radio-button" [value] = "false">
                    false (Off)
                  </mat-radio-button>
                </mat-radio-group>
              </span>
         </span>

      <mat-form-field style="width: 110px">
        <mat-select    style="width: 110px"  placeholder="Type" [(ngModel)]="vmap.LValue.ValueType" >
          <mat-option value = "int">int number</mat-option>
          <mat-option value = "float">float number</mat-option>
          <mat-option value = "string">string</mat-option>
          <mat-option value = "bool">bool</mat-option>
        </mat-select>
      </mat-form-field>

      =
      <span [ngSwitch]="vmap.RValue.ValueType">
              <span *ngSwitchCase="'string'">
                  <mat-form-field class="node-transition-field">
                      <input matInput [(ngModel)]="vmap.RValue.Value" placeholder="To value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'int'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="vmap.RValue.Value" placeholder="To value" >
                  </mat-form-field>
              </span>
              <span *ngSwitchCase="'float'">
                  <mat-form-field class="node-transition-field">
                      <input matInput type="number" [(ngModel)]="vmap.RValue.Value" placeholder="To value" >
                  </mat-form-field>
              </span>

              <span *ngSwitchCase="'bool'">
                <mat-radio-group class="example-radio-group" placeholder="To value" [(ngModel)]="vmap.RValue.Value">
                  <mat-radio-button class="example-radio-button" [value] = "true">
                    true (On)
                  </mat-radio-button>
                  <mat-radio-button class="example-radio-button" [value] = "false">
                    false (Off)
                  </mat-radio-button>
                </mat-radio-group>
              </span>
         </span>

      <mat-form-field style="width: 140px">
        <mat-select    style="width: 140px"  placeholder="Type" [(ngModel)]="vmap.RValue.ValueType" >
          <mat-option value = "int">int number</mat-option>
          <mat-option value = "float">float number</mat-option>
          <mat-option value = "string">string</mat-option>
          <mat-option value = "bool">bool</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-raised-button (click)="deleteMappingRecord(vmap)" >Delete</button>
    </div>
    <button mat-raised-button (click)="addValueMapping(node)" >Add mapping</button>
  </div>
 </div>
